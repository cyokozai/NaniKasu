## 概要
サークルで買った物やイベントで使うために購入した物のDBが古いデータor脳内しかない！  
→じゃあ管理用のプログラムを作ればいいじゃない

## 使用予定の技術
SPAとして公開予定  
フロントエンド: Next.js  
バックエンド: Go  
  
ユーザー認証: Keycloak + [gocloak](https://github.com/Nerzal/gocloak) [^1]  
対応DB: SQLite, MariaDB, TiDB  


## できる(ようになる)こと

- ユーザー登録/管理  
- 備品データベース([gorm](https://gorm.io/))
    - 備品登録/管理  
        - 検索/フィルタ  
        - コンテナ管理
        - レコメンド表示
    - 履歴管理  
        - 貸出/返却管理  
        - 過去のイベントの貸出履歴
    - イベント管理
        - 貸出リスト出力
        - 返却チェックリスト機能

## 管理方法
- 備品にQR or バーコードの貼付[^2]
- Webアプリからステータスの更新を行う
- 位置情報から所在地を自動選択
- 箱に番号や名前をつけ、コンテナとして内容物の管理を行う
    - 例: コンテナ#1
        - DMXケーブル 15m x 5
        - DMXケーブル 10m x 5
        - DMXケーブル 5m x 10 

### DB内容
| カテゴリ | アイテム名  | (長さ) | 在庫数 | 所有権 | 現在の利用者/管理者 | 現在の備品の所在地   | (コンテナ) | ステータス | 備考       |
| -------- | ----------- | ------ | ------ | ------ | ------------------- | -------------------- | ---------- | ---------- | ---------- |
| ケーブル | DMXケーブル | 5m     | 1      | MO     | いるまる            | 幕張ガーデンフォート | コンテナ#2 | 在庫       | 被覆: 赤色 |

### アイテムページ
- 各アイテムごとに作成
- スペックや付属品、取説URLの記載  
  
[イメージ](https://www.heart-s.co.jp/equipment/rental/cat81/cat80/cat79/205/)

[^1]: gocloakを使用しない場合の参考: https://qiita.com/myoshimi/items/8337aab1b17d89938be0
[^2]: ケーブル用テプラ: https://www.kingjim.co.jp/products/brand/cable.html


# 開発

## 技術選定

    Frontend: React + Vite (Cloudflare Pages)  
    Backend: Hono (Cloudflare Workers)  
    DB/Auth: Supabase  

| 判断軸      | 結論                                   |
| -------- | ------------------------------------ |
| 実装速度     | Supabase + Hono が最速                  |
| 保守性      | Supabase 管理画面で楽、Hono はシンプルコードベース     |
| デプロイの容易さ | Cloudflare Pages + Workers で統一デプロイ可能 |
| 学習コスト    | Hono の方が Go よりも簡単（特に JS/TS に慣れていれば）  |

---

- 候補の比較

| 技術                            | 特徴                                                                  | メリット                                       | デメリット                                          | 向いている場合             |
| ----------------------------- | ------------------------------------------------------------------- | ------------------------------------------ | ---------------------------------------------- | ------------------- |
| **Supabase**                  | BaaS (Backend as a Service) <br>PostgreSQL + Auth + REST + Realtime | ・すぐ使える<br>・認証/DBが最初から用意されている<br>・管理UI付き    | ・カスタムロジックに制限あり<br>・処理の柔軟性に欠ける場合がある             | CRUD中心・少人数開発・早期リリース |
| **Hono (Cloudflare Workers)** | 軽量・高速なJSベースのミニマルAPIフレームワーク                                          | ・デプロイ超高速（Cloudflare）<br>・Supabaseと組み合わせやすい | ・本格的なORMは無い（raw SQLや fetch で Supabase 操作）      | 軽量APIが必要・CDNと親和性が高い |
| **Golang (自前API)**            | 高性能な言語でAPI開発可能                                                      | ・自由度・拡張性が高い<br>・SupabaseもGo SDKで操作可能       | ・開発・デプロイがやや重い<br>・Cloudflare Workers に直接載せられない | 大規模運用や複雑なロジック向き     |
